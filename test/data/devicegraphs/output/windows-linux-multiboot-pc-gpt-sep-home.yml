---
- disk:
    size: 500 GiB
    name: "/dev/sda"
    partition_table: gpt
    partitions:
    - partition:
        size: 250 GiB
        name: "/dev/sda1"
        id: windows_basic_data
        file_system: ntfs
        label: windows
    - partition:
        size: 2 GiB
        name: "/dev/sda2"
        type: primary
        id: swap
        file_system: swap
        mount_point: swap
        label: swap
    - partition:
        size: 40 GiB
        name: "/dev/sda3"
        type: primary
        id: linux
        file_system: btrfs
        mount_point: "/"
    - partition:
        size: 2 MiB
        name: "/dev/sda4"
        id: bios_boot
    - partition:
        size: 212988 MiB
        name: "/dev/sda5"
        id: linux
        file_system: xfs
        mount_point: "/home"
    # FIXME: consequence on the fact that the last 16.5KiB of a GPT disk are not
    # usable
    - free:
        size: 1 MiB
